function GridUtils(){}function toDate(n){if(n.split(" ").length<=1)return new Date(n);if(datetime!="undefined")var u=n,i=u.split(" "),r=i[1].split(":"),t=i[0].split("-");return new Date(t[2],parseInt(t[1],10)-1,t[0],r[0],r[1])}var form=$("#form-assistants"),urlData=form.find("#urlData").val(),urlSave=form.find("#urlSave").val(),urlSaveDocuments=form.find("#urlSaveDocuments").val();GridUtils.SaveDocumentsAndForm=function(){if(window.confirm("Esta seguro de enviar el formulario ?")){var n=new FormData,t=document.getElementById("passport"),i=document.getElementById("visa"),r=document.getElementById("autorizacion"),u=document.getElementById("vacunacion");t.files.length>0&&n.append("passport",t.files[0]);i.files.length>0&&n.append("visa",i.files[0]);u.files.length>0&&n.append("Vacunacion",Vacunacion.files[0]);r.files.length>0&&n.append("autorizacion",r.files[0]);$.ajax({type:"POST",url:urlSaveDocuments,data:n,dataType:"json",contentType:!1,processData:!1,success:function(n){GridUtils.SaveForm(n)},error:function(){alert("errror")}})}};GridUtils.SaveForm=function(n){var t,i,r,u;alert(n.success);t={};t.Name=form.find("#Name").val();t.LastName=form.find("#LastName").val();t.Gender=form.find("#Gender").val();t.Nationality=form.find("#Nationality").val();t.BirthDate=toDate(form.find("#BirthDate").val());t.PassportNumber=form.find("#PassportNumber").val();t.IdentityCard=form.find("#IdentityCard").val();t.Organization=form.find("#Organization").val();t.Position=form.find("#Position").val();t.DietaryRequirements=form.find("#DietaryRequirements").val();t.Email=form.find("#Email").val();t.CellPhone=form.find("#CellPhone").val();t.Skype=form.find("#Skype").val();i=1;r=[];$(".webgrid-table tbody tr.edited-row").each(function(){var n=$(this),t=n.find("#DepartureCountry"+i).val(),u=n.find("#DepartureDate"+i).val(),f=n.find("#DestinationCountry"+i).val(),e=n.find("#ReturnDate"+i).val(),o={DepartureCountry:t,DepartureDate:toDate(u),DestinationCountry:f,ReturnDate:toDate(e)};r.push(o);i++});u=$("#passport").val();alert(u);t.Files=u;t.Travels=r;t.NameContact=form.find("#NameContact").val();t.PhoneNumberContact=form.find("#PhoneNumberContact").val();t.EmailContact=form.find("#EmailContact").val();t.ArrivalDateLodging=toDate(form.find("#ArrivalDateLodging").val());t.DepartureDateLodging=toDate(form.find("#DepartureDateLodging").val());jQuery.ajax({url:urlSave,data:JSON.stringify(t),type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",success:function(n){alert(n)}})};GridUtils.CancelRow=function(n){var t=$(n).closest("tr").remove()};GridUtils.AddRow=function(){var n=$("#gridContent tbody tr").length+1;$("table").append("<tr class='edited-row'><td><select name='ORIGEN__PLACE' id='DepartureCountry-"+n+"' class='form-control'><\/select><\/td><td><input name='SALIDA' id='DepartureDate-"+n+"' class='datepicker_recurring_start form-control' /><\/td><td><select name='DESTINO__PLACE' id='DestinationCountry-"+n+"' class='form-control'><\/select><\/td><td><input name='LLEGADA' id='ReturnDate-"+n+'\' class=\'datepicker_recurring_start form-control \' /><\/td><td><button class="btn btn-warning" onclick="GridUtils.CancelRow(this, event)" type="button" ><i class="fa fa-eraser icon-large"><\/i>X<\/button><\/td><\/tr>');$.getJSON(urlData+"?tableName=PLACE",function(t){var r=$("#DepartureCountry-"+n),i;r.empty();$(t).each(function(){r.append($("<option/>",{value:this.Value}).html(this.Text))});i=$("#DestinationCountry-"+n);i.empty();$(t).each(function(){i.append($("<option/>",{value:this.Value}).html(this.Text))})})};
//# sourceMappingURL=GridUtils.min.js.map
